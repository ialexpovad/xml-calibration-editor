:root {
  /* LIGHT theme tokens (default) */
  --bg: #f4f7fb;
  --panel: #ffffff;
  --panel-contrast: #fbfdff;
  --text: #0f1724;
  --muted: #6b7280;
  --accent: #2563eb;
  --accent-weak: #eef6ff;
  --danger: #ef4444;
  --border: #e6edf8;
  --shadow: rgba(16,24,40,0.04);
  --transition: 180ms ease-in-out;
  --radius: 12px;
  --glass: rgba(255,255,255,0.6);
  --ui-font: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
}

/* DARK overrides */
[data-theme="dark"] {
  --bg: #0f1115;
  --panel: #0b0e13;
  --panel-contrast: #0f1318;
  --text: #e5e7eb;
  --muted: #9aa4b2;
  --accent: #60a5fa;
  --accent-weak: #0b234a;
  --danger: #f87171;
  --border: #222738;
  --shadow: rgba(0,0,0,0.6);
  --glass: rgba(10,12,15,0.6);
}

/* Base */
html, body {
  height: 100%;
  margin: 0;
  background: var(--bg);
  color: var(--text);
  font-family: var(--ui-font);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  transition: background var(--transition), color var(--transition);
}

/* App shell */
.app {
  display: grid;
  grid-template-rows: 64px 1fr 34px;
  gap: 12px;
  height: 100vh;
  padding: 12px;
  box-sizing: border-box;
}

/* Header */
.app__bar {
  display:flex; align-items:center; gap:10px;
  padding: 8px 12px;
  border-radius: calc(var(--radius) - 2px);
  background: linear-gradient(180deg, rgba(255,255,255,0.02), transparent);
  border: 1px solid var(--border);
  box-shadow: 0 6px 18px var(--shadow);
}

.app__brand { font-weight: 700; font-size: 16px; margin-right: 6px; }
.app__spacer { flex:1; }

.btn {
  appearance:none; border:1px solid var(--border);
  background: var(--panel); color: var(--text);
  padding: 8px 10px; border-radius: 10px;
  cursor: pointer; font-weight: 600;
  transition: transform 120ms ease, background var(--transition), border-color var(--transition);
}
.btn:hover { transform: translateY(-1px); }
.btn--primary { background: linear-gradient(180deg,var(--accent), #1b66d1); color: white; border-color: rgba(0,0,0,0.08); }

/* Main area: split left / right */
.app__main {
  display: grid;
  grid-template-columns: 1fr 360px;
  gap: 12px;
  align-items: stretch;
}

.panel {
  background: var(--panel);
  border-radius: var(--radius);
  border: 1px solid var(--border);
  padding: 12px;
  box-shadow: 0 6px 20px var(--shadow);
  overflow: auto;
}

/* Status bar */
.app__status {
  display:flex; gap:12px; align-items:center; padding: 6px 12px;
  color: var(--muted); font-size: 13px;
  border-radius: 10px; border:1px solid var(--border); background: linear-gradient(180deg, transparent, rgba(0,0,0,0.02));
}

/* Small utilities */
.kv { display:grid; grid-template-columns: 120px 1fr; gap:6px; align-items:start; font-size:13px; }
.hr { height:1px; background: var(--border); margin: 12px 0; border-radius:2px; }

/* Smooth theme transitions for components */
.panel, .app__bar, .app__status, .xonomy {
  transition: background var(--transition), color var(--transition), border-color var(--transition), box-shadow var(--transition);
}

/* -------------------
   Overrides for Xonomy
   -------------------
   xonomy.css is big and contains hard-coded colors; we override the main pieces
   by styling .xonomy selectors with our CSS variables. Because styles.css is loaded AFTER xonomy.css,
   these rules will win.
*/

.xonomy {
  background: var(--panel) !important;
  color: var(--text) !important;
  border-radius: calc(var(--radius) - 4px) !important;
  border: 1px solid var(--border) !important;
  padding: 10px !important;
  font-family: var(--ui-font) !important;
}


/* names and labels */
.xonomy .element > .tag > .name, .xonomy .attribute > .attributeName {
  color: var(--text) !important;
  font-weight: 700 !important;
}

/* attribute values / textnodes */
.xonomy .attribute .value, .xonomy .textnode .value {
  color: var(--muted) !important;
  background: transparent !important;
}

/* hovered / selected */
.xonomy .hovered, .xonomy .selected {
  box-shadow: 0 0 0 3px var(--accent-weak) !important;
  outline: none !important;
}

/* menus */
.xonomy .menu {
  background: linear-gradient(180deg, var(--panel), var(--panel-contrast)) !important;
  border: 1px solid var(--border) !important;
  box-shadow: 0 8px 30px rgba(0,0,0,0.25) !important;
}

/* warnings */
.xonomy .warning { color: var(--danger) !important; }

/* tune fonts & spacing inside xonomy */
.xonomy .children { margin-left: 12px !important; padding-left: 8px !important; border-left: 2px dashed var(--border) !important; }
.xonomy .attribute, .xonomy .element { margin-bottom: 8px !important; }

/* Responsive adjustments */
@media (max-width: 900px) {
  .app__main { grid-template-columns: 1fr; }
  .app__bar { flex-wrap: wrap; gap: 8px; }
}
